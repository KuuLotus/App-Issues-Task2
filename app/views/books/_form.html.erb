<%= form_with model:book,local:true do |f| %>
<%= render 'layouts/errors', obj: book %>
  <div class="form-group">
    <%= f.label :title %>
    <%= f.text_field :title, class: 'form-control book_title' %>
  </div>
  <div class="form-group">
    <%= f.label :opinion %>
    <%= f.text_area :body, class: 'form-control book_body' %>
  </div>
  <div id="rate_star">
    <%= f.label :rate %><br>
    <%= f.hidden_field :rate, :value => 'score' %>
  </div>
  <div class="form-group">
    <%= f.submit class: 'btn btn-success mt-3' %>
  </div>
<% end %>

<script>
ã€€$('#rate_star').empty();
  $('#rate_star').raty({
    starOn: "<%= asset_path('star-on.png') %>",
    starOff: "<%= asset_path('star-off.png') %>",
    scoreName: 'book[rate]'
  });
</script>
